<!DOCTYPE html> 
<html> 
<!-- The following code has been developed by students and/or researchers of the Freshman Research Initiative DIY Diagnostics Stream at The University of Texas at Austin.  This code is shared for demonstration purposes and should not be considered a product -- it is for entertainment purposes only.  Any user of this code does so at their own risk. Members of the DIY Stream, FRI, and The University of Texas system are not liable for anything related to this code.
 
THIS CODE SHOULD NOT BE USED TO DIAGNOSE ANY KIND OF MEDICAL CONDITION.
 
 
Authors in chronological order of contribution:
[ADD YOUR NAME HERE]
	
Further Information:
https://www.w3schools.com/w3css/default.asp
https://stackoverflow.com/questions/8211128/multiple-distinct-pages-in-one-html-file
 
Research Educator:
Timothy Riedel
triedel@utexas.edu
 
Brief Description of Goal of Code:
[ADD YOUR DISCRIPTION HERE]
	
Known Issues:
[ADD ANY KNOWN ISSUES HERE]

-->
	
   <head> 
      <title>Cold or Allergy</title>  
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="mobile-web-app-capable" content="yes">
      <link rel="stylesheet" href="w3.css">
      <link rel="stylesheet" href="w3-colors-flat.css">
   </head> 


<script>
        var allergy_count = 0;
        var cold_count = 0;
		var allergy_percent = 0;
		var cold_percent = 0;

        function allergyAdd(){
            allergy_count = allergy_count + 1;
			alert("allergy_count is " + allergy_count + "\ncold_count is " + cold_count);
        }

        function coldAdd(){
            cold_count = cold_count + 1;
			alert("allergy_count is " + allergy_count + "\ncold_count is " + cold_count);
        }

		function changeText(){
/* Commenting out the fixed allergy_count and cold_count
			var allergy_count = 2;
			var cold_count = 4;
*/
			var allergy_percent = allergy_count/(allergy_count + cold_count)*100;
			var cold_percent = cold_count/(allergy_count + cold_count)*100;
			var initialText = document.getElementById("results");
			initialText.innerHTML = "Probability it is allergies = " + allergy_percent + "% <br> Probability it is a cold = " + cold_percent + "%" 
		}

		function drawChart(){
/* Commenting out the fixed allergy_count and cold_count
			var allergy_count = 5;
			var cold_count = 1;
*/
			var canvas = document.getElementById("myCanvas");
            var context = canvas.getContext("2d");

		// variables used to make grid marks on the y axis
			var ground = 310;
			var h_max = 250;
            var grid_spacing = h_max/(allergy_count + cold_count);
			var grid_x = 75;
            var grid_width = 10;
            var grid_thickness = 2;

		// variables used to make the allergy bar
			var allergy_x = 130;
			var allergy_ceiling = ground - allergy_count * grid_spacing;
			var bar_width = 50;
			var allergy_height = allergy_count * grid_spacing;

		// creating the allergy bar
			context.fillStyle = "blue";
			context.fillRect(allergy_x, allergy_ceiling, bar_width, allergy_height);

		// variables used to make the cold bar
			var cold_x = 235;
			var cold_ceiling = ground - cold_count * grid_spacing;
			var cold_height = cold_count * grid_spacing;

		// creating the cold bar
			context.fillStyle = "red";
			context.fillRect(cold_x, cold_ceiling, bar_width, cold_height);

		// drawing the grid marks
			context.fillStyle = "black";
            context.fillRect(grid_x, ground - 1*grid_spacing, grid_width, grid_thickness);
			context.fillRect(grid_x, ground - 2*grid_spacing, grid_width, grid_thickness);
			context.fillRect(grid_x, ground - 3*grid_spacing, grid_width, grid_thickness);
			context.fillRect(grid_x, ground - 4*grid_spacing, grid_width, grid_thickness);
			context.fillRect(grid_x, ground - 5*grid_spacing, grid_width, grid_thickness);
			context.fillRect(grid_x, ground - 6*grid_spacing, grid_width, grid_thickness);

		// adding text boxes next to the grid marks
			context.font = "11 px Arial";
			context.fillStyle = "black";
			context.fillText("16.6%", grid_x - 40, ground - 1*grid_spacing + 5);
			context.fillText("33.3%", grid_x - 40, ground - 2*grid_spacing + 5);
			context.fillText("50.0%", grid_x - 40, ground - 3*grid_spacing + 5);
			context.fillText("66.7%", grid_x - 40, ground - 4*grid_spacing + 5);
			context.fillText("83.3%", grid_x - 40, ground - 5*grid_spacing + 5);
			context.fillText("100.0%", grid_x - 40, ground - 6*grid_spacing + 5);

        // drawing the x and y axes
            context.beginPath();
            context.moveTo(80, 50);
            context.lineTo(80, 310);
            context.lineTo(330, 310);
            context.stroke();

        // labeling the x axis
            context.font = "13px Arial";
            context.fillStyle = "black";
            context.fillText("Allergies", 130, 330);
            context.fillText("Cold", 247, 330);

       // vertical y-axis label (rotated)
            context.save(); // save current state
            context.translate(20, canvas.height/2); // move origin to left-center
            context.rotate(-Math.PI/2); // rotate counter-clockwise 90Â°
            context.font = "14px Arial";
            context.fillStyle = "black";
            context.textAlign = "center";
            context.fillText("Probability (%)", 0, 0); // draws centered vertically
            context.restore(); // restore state

		};


/* Commenting out the window.addEventListener function.
		window.addEventListener('load', function() {
			changeText();
			drawChart();
		});
*/

  </script>



<style>	
.body {
     margin: 0em;
}
.page {
    width: 100vw;
    height: 100vh;
    position: fixed;
    top: 0;
    left: -100vw;
    overflow-y: auto;
    z-index: 0;
    background-color: hsl(0,0%,100%);
}

  .page:target {
    left: 0vw;
    z-index: 1;
}
</style>

<body>
<div id="header" class="w3-container w3-flat-carrot">
	<h1>Cold or Allergies!?</h1>
</div>
	
<div id="content" class="w3-container">
	<p>Are you feeling like you might have a cold but wonder if it is allergies. Answer a few short questions to find out!</p>
	
	<a href="#one" class="w3-btn w3-grey w3-round"> Get Started </a>
	
	<p>The following code has been developed by students and/or researchers of the Freshman Research Initiative DIY Diagnostics Stream at The University of Texas at Austin.  This code is shared for demonstration purposes and should not be considered a product -- it is for entertainment purposes only. Any user of this code 			does so at their own risk. Members of the DIY Stream, FRI, and The University of Texas system are not liable for anything related to this code.</p>
 	
	<p>THIS CODE SHOULD NOT BE USED TO DIAGNOSE ANY KIND OF MEDICAL CONDITION.</p>
</div>
	
<div class="page" id="one">
	<div id="header" class="w3-container w3-flat-carrot">
		<h1>Question 1</h1>
	</div>
	
    	<div id="content" class="w3-container">
        <p>Are your eyes watery or itchy?</p>    
	    	<a href="#two" onclick="allergyAdd()" class="w3-btn w3-grey w3-round"> Yes </a>
			<a href="#two" onclick="coldAdd()" class="w3-btn w3-grey w3-round"> No </a>
    	</div>
</div>

<div class="page" id="two">
	<div class="w3-container w3-flat-carrot">
		<h1>Question 2</h1>
	</div>
	
	<div id="content" class="w3-container">
		<p>Do you have a fever?</p>
	    <a href="#three" onclick="coldAdd()" class="w3-btn w3-grey w3-round"> Yes </a>
		<a href="#three" onclick="allergyAdd()" class="w3-btn w3-grey w3-round"> No </a>
	</div>
</div>	

<div class="page" id="three">
	<div class="w3-container w3-flat-carrot">
		<h1>Question 3</h1>
	</div>
	
	<div id="content" class="w3-container">
		<p>Do you have a sore throat?</p>
	    <a href="#four" onclick="coldAdd()" class="w3-btn w3-grey w3-round"> Yes </a>
		<a href="#four" onclick="allergyAdd()" class="w3-btn w3-grey w3-round"> No </a>
	</div>
</div>	

<div class="page" id="four">
	<div class="w3-container w3-flat-carrot">
		<h1>Question 4</h1>
	</div>
	
	<div id="content" class="w3-container">
		<p>Are your symptoms seasonal or chronic?</p>
	    <a href="#five" onclick="allergyAdd()" class="w3-btn w3-grey w3-round"> Seasonal </a>
		<a href="#five" onclick="coldAdd()" class="w3-btn w3-grey w3-round"> Chronic </a>
	</div>
</div>	

<div class="page" id="five">
	<div class="w3-container w3-flat-carrot">
		<h1>Question 5</h1>
	</div>
	
	<div id="content" class="w3-container">
		<p>Do you have skin rashes?</p>
	    <a href="#six" onclick="allergyAdd()" class="w3-btn w3-grey w3-round"> Yes </a>
		<a href="#six" onclick="coldAdd()" class="w3-btn w3-grey w3-round"> No </a>
	</div>
</div>	

<div class="page" id="six">
	<div class="w3-container w3-flat-carrot">
		<h1>Question 6</h1>
	</div>

	<div id="content" class="w3-container"> 
		<p>Do you have a stuffy nose?</p>
		<a href="#seven" onclick="coldAdd()" class="w3-btn w3-grey w3-round"> Yes </a>
		<a href="#seven" onclick="allergyAdd()" class="w3-btn w3-grey w3-round"> No </a>
	</div>
	
</div>	

<div class="page" id="seven">
	<div class="w3-container w3-flat-carrot">
		<h1>Results</h1>
	</div>
	
	<div id="content" class="w3-container">
		<p id="results">Press on the button below to see your results!</p>
		<a onclick="changeText(); drawChart();" class="w3-btn w3-grey w3-round"> Click here for results! </a>
        <br>
        <br>
        <canvas id="myCanvas" width=360 height=360 style="border:1px solid #d3d3d3;"></canvas>
	</div>
</div>	

<footer class="w3-bottom w3-container w3-flat-carrot">
	<p>DIY!</p>
</footer>

</body>
</html>